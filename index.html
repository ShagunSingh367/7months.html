<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Happy 7 Months, Alokâ¤ï¸</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <!-- Love Message Modal -->
  <div class="love-modal" id="loveModal">
    <div class="love-modal-content">
      <span class="close-btn" onclick="closeModal()">â¤ï¸</span>
      <h2>Alok ğŸ’•</h2>
      <p>You blew out the candle ğŸ‚ but not my love!<br>
        I LOVE YOU FOREVER. <br>â€“ Shagun ğŸ’Œ</p>
    </div>
  </div>

  <audio id="bgMusic" src="./MUSIC.mp3.mp3"></audio>
  <canvas id="confetti-canvas"></canvas>
  <div id="hearts-container"></div>

  <div class="container">
    <div class="door">
      <div class="handle">Click Here</div>
    </div>

    <div class="message">
      <h1>Happy 7 Months, Aloki! ğŸ’•</h1>
      <div class="heart">â¤ï¸</div>
      <p>
        Dear Aloki, you're the best part of my life.<br>
        These 7 months have been full of love, laughter, and beautiful memories all because of you Alokâ¤ï¸.<br>
        I'm so lucky to have you. You're the best gift I have received last year. I want you always Alokâ¤ï¸.<br>
        You have no idea how much I love you, how much I feel blessed having you by my side.<br>
        Here's to forever. ğŸ’«<br>
        With love, Shagun ğŸ’Œ<br>
        I LOVE YOU TO INFINITY Alokâ¤ï¸<br>
      </p>

      <div class="cake-container">
        <div class="cake">
          <div class="frosting"></div>
          <div class="candle">
            <div class="flame" id="flame"></div>
          </div>
        </div>
        <p class="blow-text">Click to blow the candle ğŸ‚</p>
      </div>

      <!-- To Future Us Section -->
      <div class="future-button-container">
        <button class="future-btn" onclick="showFuture()">To Future Us ğŸ’</button>
        <div id="future-msg" class="future-msg">
          <p>
            Alok, if you're reading this...<br>
            We made it this far because of love, patience, and belief in â€œus.â€<br>
            I see a beautiful future with you â€” and I will always choose you. ğŸ’–<br>
            â€“ Future Shagun ğŸ’Œ
          </p>
        </div>
      </div>

    </div>
  </div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const flame = document.getElementById("flame");
      const bgMusic = document.getElementById("bgMusic");

      // Door open
      document.querySelector(".door").addEventListener("click", () => {
        document.querySelector(".door").classList.toggle("open");
        document.querySelector(".message").classList.add("visible");
        bgMusic.play();
        startConfetti();
        startFloatingHearts();
        activateStarrySky();
      });

      // Blow candle
      document.querySelector(".cake-container").addEventListener("click", () => {
        if (flame && flame.style.display !== "none") {
          flame.style.display = "none";
          setTimeout(() => {
            document.getElementById("loveModal").style.display = "block";
          }, 500);
        }
      });
    });

    function closeModal() {
      document.getElementById("loveModal").style.display = "none";
    }

    function showFuture() {
      document.getElementById("future-msg").style.display = "block";
    }

    function activateStarrySky() {
      setTimeout(() => {
        document.body.classList.add("starry-background");
      }, 7000); // activates 7 seconds after door opens
    }

    function startConfetti() {
      const duration = 3000;
      const end = Date.now() + duration;
      (function frame() {
        confetti({ particleCount: 5, angle: 60, spread: 55, origin: { x: 0 } });
        confetti({ particleCount: 5, angle: 120, spread: 55, origin: { x: 1 } });
        if (Date.now() < end) requestAnimationFrame(frame);
      })();
    }

    function startFloatingHearts() {
      const heartsContainer = document.getElementById("hearts-container");
      setInterval(() => {
        const heart = document.createElement("div");
        heart.className = "floating-heart";
        heart.style.left = Math.random() * 100 + "vw";
        heartsContainer.appendChild(heart);

        setTimeout(() => {
          heart.remove();
        }, 6000);
      }, 600);
    }
  </script>
</body>
</html>
